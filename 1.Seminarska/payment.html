<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';"/>
    <title>Plačilo</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<div id="search-form">
    <div id="header">
        <h1>PLAČILO S KARTICO</h1>
    </div>
    <section>
        <div class="flight" id="flightbox">
            <form id="flight-form" onsubmit="myFunction()">

            <!-- FROM/TO -->
            <div id="flight-depart">
                <div class="info-box">
                    <label for="">POLNO IME PLAČNIKA</label>
                    <input type="text" placeholder="Vnesite ime in priimek plačnik" id="ime" required/>
                    <div id="depart-res"></div>
                </div>
                <div class="info-box" id="arrive-box">
                    <label for="">NASLOV PLAČNIKA</label>
                    <input type="text" placeholder="Vnesite naslov plačnika" id="naslov"/>
                    <div id="arrive-res"></div>
                </div>
            </div>


            <div id="flight-depart">
                <div class="info-box">
                    <label for="">MESTO IN POŠTNA ŠTEVILKA</label>
                    <input type="text" placeholder="Mesto, poštna številka plačnika" id="mesto" required/>
                    <div id="depart-res"></div>
                </div>
                <div class="info-box" id="arrive-box">
                    <label for="">DRŽAVA</label>
                    <input type="text" placeholder="Vnesite državo plačnika" id="drzava" required/>
                    <div id="arrive-res"></div>
                </div>
            </div>

                <div id="flight-depart">
                    <div class="info-box">
                        <label for="">E-pošta</label>
                        <input type="email" name="email" placeholder="Vnesite epošto kamor želite prejeti povratne informacije" required id="email"  />
                        <div id="depart-res"></div>
                    </div>

                </div>

            <!-- FROM/TO -->
            <div id="flight-depart">
                <div class="info-box">
                    <label for="">IME NA KARTICI</label>
                    <input type="text" placeholder="Ime in priimek na kartici plačnika" id="imeNaKartici" required/>
                    <div id="depart-res"></div>
                </div>
                <div class="info-box" id="arrive-box">
                    <label for="cc-number">ŠTEVILKA BANČNE KARTICE</label>
                    <input type="text" id="creditCard"
                           placeholder="0000-0000-0000-0000"
                           onkeyup="myFunction2()"
                           pattern="([0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4})" maxlength="19" required>
                    <div id="arrive-res"></div>
                </div>
            </div>

            <div id="flight-depart">
                <div class="info-box">
                    <label for="">MESEC IN LETO EKSPIRACIJE</label>
                    <input type="month" id="exp" required min="2020-11"/>
                    <div id="depart-res"></div>
                </div>

                <div class="info-box" id="arrive-box">
                    <label for="cc-csc">CVV</label>
                    <input type="tel" id="cvv" placeholder="3 mestna cvv koda" inputmode="numeric" pattern="[0-9\s]{3}" autocomplete="cc-csc" maxlength="3"/>
                    <div id="arrive-res"></div>
                </div>
            </div>
            <div id="flight-search">
                <div class="info-box">
                    <input type="submit" id="search-flight" value="POTRDI" />
                </div>
            </div>

            <div id="flight-search2">
                <div class="info-box">
                    <input type="reset" id="search-flight" value="POČISTI POLJA"/>
                </div>
            </div>
            </form>
        </div>

    </section>
</div>

<script>
    function myFunction() {
        alert("Rezervacija je potrjena! Vse informacije boste prejeli na svojo epošto: " + document.getElementById("email").value);
    }

    function myFunction2() {
        const x = document.getElementById("creditCard");
        let creditCard = x.value.split("-").join("");
        if (creditCard.length > 0) {
            creditCard = creditCard.match(new RegExp('.{1,4}', 'g')).join("-");
        }
        x.value = creditCard;
    }
</script>

</div>

</body>
</html>
